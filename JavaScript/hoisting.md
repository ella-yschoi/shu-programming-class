# 📒 Hoisting

hoist의 사전적 의미는 '끌어 올리기' 라는 뜻입니다. 변수나 함수의 호출 코드보다, 선언 코드가 아랫쪽에 있음에도 불구하고 에러가 발생하지 않고, 마치 선언 코드가 호출 코드보다 더 위에 선언된 것과 같이 동작하는 특성을 hoisting(호이스팅) 이라고 합니다.

JavaScript에서의 호이스팅은 인터프리터가 코드를 실행하기 전에 함수, 변수, 클래스 또는 임포트(import)의 선언문을 해당 범위의 맨 위로 끌어올리는 것처럼 보이는 현상을 뜻합니다.

<br/>

## 0. 목차

<!-- no toc -->
1. [](#1)
2. [](#2)
3. [](#3-참고-자료)

<br/>

## 1. 1번째 개념

### (1) 설명

호이스팅은 변수나 함수 선언이 그들이 속한 스코프의 최상단으로 끌어올려지는 것을 말합니다. 호이스팅은 코드의 실행 전에 JavaScript 엔진에 의해 수행됩니다.

변수의 경우, `var` 키워드로 선언된 변수는 호이스팅되어 해당 스코프의 최상단으로 이동하며, 초기화는 실제 코드에 도달했을 때 이루어집니다. 이로 인해 선언 전에 변수를 참조하면 `undefined` 값을 얻게 됩니다. 하지만 `let`과 `const`로 선언된 변수는 호이스팅은 되지만, 참조하기 전에 초기화가 필요하기 때문에 '임시적 사각지대(Temporal Dead Zone)'에 빠지게 됩니다. 이 때문에 선언 전에 이들 변수를 참조하려고 하면 참조 에러(ReferenceError)가 발생합니다.

<br/>

## 2. 함수 호이스팅과 변수 호이스팅

함수 호이스팅과 변수 호이스팅의 주요 차이는 호이스팅되는 내용과 스코프에 있습니다. 함수 호이스팅은 **전체 함수**를 스코프의 최상단으로 옮기지만, 변수 호이스팅은 **선언만**을 최상단으로 옮깁니다. 또한 `let`과 `const`는 변수 호이스팅에서 특별한 행동을 보여, 초기화 전에 접근할 수 없는 특징을 가집니다.

### (1) 함수 호이스팅 (Function Hoisting)

함수 선언을 코드의 맨 위로 끌어올리는 것처럼 동작하여, **함수를 선언하기 전에도 호출**할 수 있게 합니다. 이때, **함수 전체**가 호이스팅 됩니다. 이는 함수의 선언 전에도 해당 함수를 호출할 수 있다는 것을 의미합니다.

더불어, 함수 호이스팅은 함수가 선언된 스코프의 최상단으로 이동합니다. 함수 선언은 블록 스코프가 아닌 함수 스코프 또는 전역 스코프에 적용됩니다. 그리고 아래와 같이 함수 선언식에만 적용되며, 함수 표현식에는 적용되지 않습니다.

```javascript
// 함수 선언식
hello();

function hello() {
  console.log("Hello, world!"); // Hello, world!
}
```

```javascript
// 함수 표현식
hello();

let hello = function() {
  console.log( "Hello" ); // ReferenceError
};
```

### (2) 변수 호이스팅 (Variable Hoisting)

변수 호이스팅이란, 변수의 선언 위치와 상관 없이 코드 내 어느 곳에서든 호출이 가능하지만, 초기화는 `undefined` 입니다.

`var`로 선언된 변수의 경우, 선언은 코드의 맨 위로 호이스팅되지만 초기화는 호이스팅되지 않습니다. 따라서 선언 전에 변수에 접근하면 `undefined` 값을 얻게 됩니다.

```javascript
console.log(x); // undefined
var x = 5;
console.log(x); // 5

console.log(y); // ReferenceError: y is not defined
let y = 10;
```

반면, `let`과 `const`로 선언된 변수도 호이스팅되지만, 초기화 전에 접근하려고 하면 ReferenceError가 발생합니다. 이들은 '임시적 사각지대(Temporal Dead Zone)'에 빠지기 때문입니다.

또한, `var`로 선언된 변수는 함수 스코프 또는 전역 스코프에 호이스팅됩니다. 반면, `let`과 `const`는 블록 스코프에 호이스팅됩니다.

<br/>

## 3. 참고 자료

- [MDN - 호이스팅](https://developer.mozilla.org/ko/docs/Glossary/Hoisting)
