# ğŸ“’ ì–•ì€ ë³µì‚¬ì™€ ê¹Šì€ ë³µì‚¬

## 0. ëª©ì°¨

1. [ì–•ì€ ë³µì‚¬](#1-ì–•ì€-ë³µì‚¬)
2. [ê¹Šì€ ë³µì‚¬](#2-ê¹Šì€-ë³µì‚¬)

<br/>

## 1. ì–•ì€ ë³µì‚¬

### (1) ì„¤ëª…

ì•„ë˜ ì½”ë“œì—ì„œ `home` ê°ì²´ëŠ” ì–•ì€ ë³µì‚¬(shallow copy)ê°€ ëœë‹¤. ì—¬ê¸°ì„œ ì–•ì€ ë³µì‚¬ë€, ê°ì²´ì˜ ìµœìƒìœ„ ìˆ˜ì¤€ì˜ ê°’ë§Œ ë³µì‚¬í•˜ëŠ” ê²ƒì„ ì˜ë¯¸í•œë‹¤.

```javascript
const ella = {name: 'Ella', age: 20};
const updated = {
  ...ella,
  job: 'FE developer',
  home: {address: 'seoul'}
};

console.log(updated); // {name: 'Ella', age: 20, job: 'FE developer'}
```

### (2) ë¶€ì‘ìš©

ìœ„ ì½”ë“œì—ì„œ `updated` ê°ì²´ëŠ” `ella` ê°ì²´ì˜ ì†ì„±ë“¤ì„ ë³µì‚¬ë°›ëŠ”ë‹¤. `...ella` êµ¬ë¬¸ì€ `ella` ê°ì²´ì˜ ëª¨ë“  ìƒìœ„ ìˆ˜ì¤€ì˜ ì†ì„±ë“¤ì„ `updated` ê°ì²´ë¡œ ë³µì‚¬í•˜ëŠ”ë°, ì´ë•Œ `name`ê³¼ `age`ëŠ” ê°„ë‹¨í•œ ê°’ì´ë¯€ë¡œ ë¬¸ì œê°€ ì—†ì§€ë§Œ, `home` ì†ì„±ì€ ê°ì²´ë‹¤.

`home` ê°ì²´ê°€ ì–•ì€ ë³µì‚¬ë˜ì—ˆë‹¤ëŠ” ê²ƒì€, `updated` ê°ì²´ì˜ `home` ì†ì„±ê³¼ ì›ë³¸ `ella` ê°ì²´ì˜ `home` ì†ì„±ì´ ë™ì¼í•œ ë©”ëª¨ë¦¬ ì£¼ì†Œë¥¼ ì°¸ì¡°í•œë‹¤ëŠ” ì˜ë¯¸ë‹¤. ì¦‰, ì•„ë˜ì™€ ê°™ì´ `updated.home` ë˜ëŠ” `ella.home` ì¤‘ í•˜ë‚˜ë¥¼ ë³€ê²½í•˜ë©´, ë‘ ê°ì²´ ëª¨ë‘ì— ì˜í–¥ì„ ë¯¸ì¹˜ê²Œ ëœë‹¤. ì´ëŠ” ì–•ì€ ë³µì‚¬ì˜ ì£¼ìš” íŠ¹ì§• ì¤‘ í•˜ë‚˜ì´ë©°, ë•Œë¡œëŠ” ì˜ˆê¸°ì¹˜ ì•Šì€ ë¶€ì‘ìš©ì„ ì´ˆë˜í•  ìˆ˜ ìˆë‹¤.

```javascript
const ella = {
  name: 'Ella',
  age: 20,
  home: { address: 'Seoul' }
};

// Ella ê°ì²´ë¥¼ ì‚¬ìš©í•˜ì—¬ Updated ê°ì²´ ìƒì„± (ì–•ì€ ë³µì‚¬)
const updated = {
  ...ella,
  job: 'FE developer'
};

// ë³€ê²½ ì „
console.log(ella.home); // Seoul
console.log(updated.home); // Seoul

// ë³€ê²½ í›„: Updated ê°ì²´ì˜ home ì†ì„± ë³€ê²½
updated.home.address = 'Busan';

console.log(ella.home); // Busan
console.log(updated.home); // Busan
```

<br/>

## 2. ê¹Šì€ ë³µì‚¬

### (1) ì„¤ëª…

ë”°ë¼ì„œ ê°ì²´ ë‚´ë¶€ì˜ ê°ì²´ì™€ ê°™ì€ ì¤‘ì²©ëœ êµ¬ì¡°ë¥¼ ë³µì‚¬í•  ë•ŒëŠ” ê¹Šì€ ë³µì‚¬(deep copy)ë¥¼ ê³ ë ¤í•´ì•¼ í•œë‹¤. ê¹Šì€ ë³µì‚¬ëŠ” **ê°ì²´ì˜ ëª¨ë“  ìˆ˜ì¤€ì„ ìƒˆë¡œìš´ ë©”ëª¨ë¦¬ì— ë³µì‚¬**í•˜ì—¬, **ì›ë³¸ ê°ì²´ì™€ ì™„ì „ ë…ë¦½ëœ ë³µì‚¬ë³¸ì„ ìƒì„±**í•œë‹¤. ì´ë¥¼ í†µí•´ ì¤‘ì²©ëœ ê°ì²´ë“¤ì´ ì„œë¡œ ì˜í–¥ì„ ì£¼ì§€ ì•Šë„ë¡ í•  ìˆ˜ ìˆë‹¤.

### (2) ê¹Šì€ ë³µì‚¬ ë°©ë²•

#### a. JSON.stringify

ê¹Šì€ ë³µì‚¬ë¥¼ í•˜ëŠ” ë°©ë²•ìœ¼ë¡œëŠ” JSON.stringify()ë¥¼ ì‚¬ìš©í•´ `ella` ê°ì²´ë¥¼ JSON ë¬¸ìì—´ë¡œ ë³€í™˜í•˜ê³ , JSON.parse()ë¡œ ë¬¸ìì—´ì„ ë‹¤ì‹œ ìƒˆë¡œìš´ ê°ì²´ë¡œ ë³€í™˜í•œë‹¤. ì´ë ‡ê²Œ í•˜ë©´ `updated`ëŠ” `ella`ì˜ ê¹Šì€ ë³µì‚¬ë³¸ì´ ë˜ë©°, ì„œë¡œ ì™„ì „íˆ ë…ë¦½ì ì¸ ìƒíƒœê°€ ëœë‹¤. í•˜ì§€ë§Œ ê°ì²´ ë‚´ í•¨ìˆ˜ë‚˜ ìˆœí™˜ ì°¸ì¡°, íŠ¹ë³„í•œ ê°ì²´ (ë‚ ì§œ, ì •ê·œ í‘œí˜„ì‹ ë“±)ëŠ” ì˜¬ë°”ë¥´ê²Œ ë³µì‚¬ë˜ì§€ ì•Šì„ ìˆ˜ ìˆë‹¤.

```javascript
const ella = {
  name: 'Ella',
  age: 20,
  home: { address: 'Seoul' }
};

// Ella ê°ì²´ë¥¼ ê¹Šì€ ë³µì‚¬í•˜ì—¬ Updated ê°ì²´ ìƒì„±
const updated = JSON.parse(JSON.stringify(ella));
updated.job = 'FE developer';
updated.home.address = 'Busan';

console.log(ella.home.address); // Seoul: ì›ë³¸ ë°ì´í„° ë³€í•˜ì§€ ì•ŠìŒ
console.log(updated.home.address); // Busan
```

#### b. ì¬ê·€ í•¨ìˆ˜ ì‚¬ìš©

ì¬ê·€ í•¨ìˆ˜ë¥¼ ì‚¬ìš©í•˜ì—¬ ê°ì²´ì˜ ëª¨ë“  ìˆ˜ì¤€ì„ íƒìƒ‰í•˜ê³  ìƒˆë¡œìš´ ê°ì²´ì— ë³µì‚¬í•  ìˆ˜ ìˆìœ¼ë©° ê°ì²´ ë‚´ë¶€ì˜ ì¤‘ì²©ëœ ê°ì²´, ë°°ì—´ ë“±ë„ ì²˜ë¦¬í•  ìˆ˜ ìˆë‹¤.

ì•„ë˜ì˜ `deepCopy` í•¨ìˆ˜ëŠ” ì¤‘ì²©ëœ ê°ì²´ì˜ ê° ìˆ˜ì¤€ì— ëŒ€í•´ ìê¸° ìì‹ ì„ ë°˜ë³µì ìœ¼ë¡œ í˜¸ì¶œí•˜ë©°, ê° ìˆ˜ì¤€ì—ì„œ ë³µì‚¬ë³¸ì„ ìƒì„±í•œë‹¤. ì´ ê³¼ì •ì€ ê°ì²´ì˜ ëª¨ë“  ì¤‘ì²© ìˆ˜ì¤€ì´ ì²˜ë¦¬ë  ë•Œê¹Œì§€ ê³„ì†ë˜ë©° ê·¸ ê²°ê³¼, ì „ì²´ ê°ì²´ êµ¬ì¡°ê°€ ì™„ì „íˆ ë³µì‚¬ëœë‹¤.

```javascript
const ella = {
  name: 'Ella',
  age: 20,
  home: { address: 'Seoul' }
};

function deepCopy(obj) {
  // ì¬ê·€ ì¢…ë£Œ ì¡°ê±´ì„ ê¼­ ì‘ì„±í•´ì¤€ë‹¤
  if (obj === null || typeof obj !== 'object') {
    return obj;
  }

  let temp = Array.isArray(obj) ? [] : {};

  for (let key in obj) {
    temp[key] = deepCopy(obj[key]); // deepCopyê°€ ìê¸° ìì‹ ì„ í˜¸ì¶œ, í˜¸ì¶œì€ ê°ì²´ì˜ ì¤‘ì²©ëœ ì†ì„±ì— ëŒ€í•´ ìˆ˜í–‰ë˜ë©° ê° ì¤‘ì²©ëœ ê°ì²´ ë˜ëŠ” ë°°ì—´ë„ ë³µì‚¬
  }

  return temp;
}

const updated = deepCopy(ella);
updated.home.address = 'Busan';

console.log(ella.home.address); // Seoul: ì›ë³¸ ë°ì´í„° ë³€í•˜ì§€ ì•ŠìŒ
console.log(updated.home.address); // Busan
```
#### c. Object.assign() ë˜ëŠ” Spread ì—°ì‚°ìë¥¼ ì´ìš©í•œ ì¤‘ì²©ëœ ê°ì²´ ì²˜ë¦¬

[`Object.assign()`](https://developer.mozilla.org/ko/docs/Web/JavaScript/Reference/Global_Objects/Object/assign) ë˜ëŠ” Spread ì—°ì‚°ì(`...`)ëŠ” ì–•ì€ ë³µì‚¬ë¥¼ í•œë‹¤. í•˜ì§€ë§Œ ì¤‘ì²©ëœ ê°ì²´ì— ëŒ€í•´ì„œëŠ” ì›ë³¸ ê°ì²´ê°€ ë°”ë€” ìˆ˜ ìˆê¸°ì— ì¶”ê°€ë¡œ ì¬ê·€ë¥¼ ì´ìš©í•´ ê¹Šì€ ë³µì‚¬ë¥¼ êµ¬í˜„í•  ìˆ˜ ìˆë‹¤.

```javascript
// 1. ì›ë³¸ ë°ì´í„°ê°€ ë³€í•˜ëŠ” ê²½ìš°: Object.assign()ë§Œ ì‚¬ìš©
const ella = {
  name: 'Ella',
  age: 20,
  home: { address: 'Seoul' }
};

// Object.assignì„ ì‚¬ìš©í•˜ì—¬ ì–•ì€ ë³µì‚¬
const copied = Object.assign({}, ella);

// ë³µì‚¬ëœ ê°ì²´ì˜ ì¤‘ì²©ëœ ì†ì„±ì„ ë³€ê²½
copied.home.address = 'Busan';

console.log(ella.home.address); // Busan: ì›ë³¸ ë°ì´í„°ê°€ ë³€í•¨
console.log(copied.home.address); // Busan

```

```javascript
// 2. ì›ë³¸ ë°ì´í„°ê°€ ë³€í•˜ì§€ ì•ŠëŠ” ê²½ìš°: Object.assign() + ì¬ê·€ í˜¸ì¶œ
function deepCopy(obj) {
  if (obj === null || typeof obj !== 'object') {
    return obj;
  }

  let copy = Array.isArray(obj) ? [] : {};

  for (let key in obj) {
    if (obj.hasOwnProperty(key)) {
      copy[key] = (typeof obj[key] === 'object' && obj[key] !== null) ? deepCopy(obj[key]) : obj[key]; // deepCopy ì¬ê·€ í˜¸ì¶œ
    }
  }

  return copy;
}

const ella = {
  name: 'Ella',
  age: 20,
  home: { address: 'Seoul' }
};

const updated = deepCopy(ella);
updated.home.address = 'Busan';

console.log(ella.home.address); // Seoul: ì›ë³¸ ê°ì²´ê°€ ë°”ë€Œì§€ ì•ŠìŒ
console.log(updated.home.address); // Busan
```

#### d. ì„œë“œ íŒŒí‹° ë¼ì´ë¸ŒëŸ¬ë¦¬ ì‚¬ìš©

[Lodash](https://despiteallthat.tistory.com/167)ë¼ëŠ” ë¼ì´ë¸ŒëŸ¬ë¦¬ì˜ `_.cloneDeep()` ê°™ì€ í•¨ìˆ˜ë¥¼ ì‚¬ìš©í•  ìˆ˜ë„ ìˆë‹¤. JavaScriptì—ì„œ ë°°ì—´ ì•ˆì˜ ê°ì²´ë“¤ì˜ ê°’ì„ í•¸ë“¤ë§ í•  ë•Œ ìœ ìš©í•˜ë‹¤.

```javascript
import _ from 'lodash';

const ella = {
  name: 'Ella',
  age: 20,
  home: { address: 'Seoul' }
};

const updated = _.cloneDeep(ella);
updated.home.address = 'Busan';

console.log(ella.home.address); // Seoul
console.log(updated.home.address); // Busan
```
